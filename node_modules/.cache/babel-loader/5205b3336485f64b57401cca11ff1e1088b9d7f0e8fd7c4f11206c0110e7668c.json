{"ast":null,"code":"import React,{useState}from'react';import{Bar,Pie,Line}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend,ArcElement,PointElement,LineElement}from'chart.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend,ArcElement,PointElement,LineElement);const Chart=_ref=>{let{data=[],title,type}=_ref;if(!data||data.length===0){return/*#__PURE__*/_jsx(\"div\",{children:\"No data available for this chart.\"});}const[selectedItem,setSelectedItem]=useState(null);const chartData={labels:Array.isArray(data)?data.map(item=>item.make||item.vehClass||item.fuelType||item.trans||item.co2Rating||''):[],datasets:[{label:title,data:Array.isArray(data)?data.map(item=>item.avgCons||item.combCons||item.count||item.avgCo2||item.percentage||0):[],backgroundColor:'rgba(75,192,192,0.6)',borderColor:'rgba(75,192,192,1)',borderWidth:1,hoverBackgroundColor:'rgba(75,192,192,0.4)',hoverBorderColor:'rgba(75,192,192,1)'}]};const chartOptions={scales:{y:{beginAtZero:true}},onClick:(event,elements)=>{if(elements.length>0){const index=elements[0].index;setSelectedItem(data[index]);}},responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:title}}};// switch(type) {\n//   case 'fuelTypeDist':\n//   case 'co2RatingPct':\n//       return <Pie data={chartData} options={chartOptions} />;\n//   case 'consByTrans':\n//   case 'co2ByClass':\n//       return <Line data={chartData} options={chartOptions} />;\n//   default:\n//       return <Bar data={chartData} options={chartOptions} />;\n// }\n//const ChartComponent = type === 'pie' ? Pie : Bar;\nlet ChartComponent;switch(type){case'fuelTypeDist':case'co2RatingPct':ChartComponent=Pie;break;case'consByTrans':case'co2ByClass':ChartComponent=Line;break;default:ChartComponent=Bar;}return/*#__PURE__*/_jsxs(\"div\",{className:\"chart\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsx(ChartComponent,{data:chartData,options:chartOptions}),selectedItem&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-view\",children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedItem.make||selectedItem.vehClass||selectedItem.fuelType||selectedItem.trans||selectedItem.co2Rating}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Value: \",selectedItem.avgCons||selectedItem.combCons||selectedItem.count||selectedItem.avgCo2||selectedItem.percentage]})]})]});};export default Chart;","map":{"version":3,"names":["React","useState","Bar","Pie","Line","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","PointElement","LineElement","jsx","_jsx","jsxs","_jsxs","register","_ref","data","title","type","length","children","selectedItem","setSelectedItem","chartData","labels","Array","isArray","map","item","make","vehClass","fuelType","trans","co2Rating","datasets","label","avgCons","combCons","count","avgCo2","percentage","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","chartOptions","scales","y","beginAtZero","onClick","event","elements","index","responsive","plugins","legend","position","display","text","ChartComponent","className","options"],"sources":["D:/centennial/centennial 2024 summer/comp214/Assignment/group project/db_frontend/src/Chart.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Bar, Pie, Line } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement, PointElement, LineElement } from 'chart.js';\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement, PointElement, LineElement);\r\n\r\nconst Chart = ({ data = [], title, type }) => {\r\n\r\n  if (!data || data.length === 0) {\r\n    return <div>No data available for this chart.</div>;\r\n  }\r\n\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n\r\n  const chartData = {\r\n    labels: Array.isArray(data) ? data.map(item => item.make || item.vehClass || item.fuelType || item.trans || item.co2Rating || '') : [],\r\n    datasets: [\r\n      {\r\n        label: title,\r\n        data: Array.isArray(data) ? data.map(item => item.avgCons || item.combCons || item.count || item.avgCo2 || item.percentage || 0) : [],\r\n        backgroundColor: 'rgba(75,192,192,0.6)',\r\n        borderColor: 'rgba(75,192,192,1)',\r\n        borderWidth: 1,\r\n        hoverBackgroundColor: 'rgba(75,192,192,0.4)',\r\n        hoverBorderColor: 'rgba(75,192,192,1)'\r\n      }\r\n    ]\r\n  };\r\n\r\n  const chartOptions = {\r\n    scales: {\r\n      y: {\r\n        beginAtZero: true\r\n      }\r\n    },\r\n    onClick: (event, elements) => {\r\n      if (elements.length > 0) {\r\n        const index = elements[0].index;\r\n        setSelectedItem(data[index]);\r\n      }\r\n    },\r\n    responsive: true,\r\n    plugins: {\r\n        legend: {\r\n            position: 'top',\r\n        },\r\n        title: {\r\n            display: true,\r\n            text: title,\r\n        },\r\n    },\r\n  };\r\n\r\n  // switch(type) {\r\n  //   case 'fuelTypeDist':\r\n  //   case 'co2RatingPct':\r\n  //       return <Pie data={chartData} options={chartOptions} />;\r\n  //   case 'consByTrans':\r\n  //   case 'co2ByClass':\r\n  //       return <Line data={chartData} options={chartOptions} />;\r\n  //   default:\r\n  //       return <Bar data={chartData} options={chartOptions} />;\r\n  // }\r\n\r\n  //const ChartComponent = type === 'pie' ? Pie : Bar;\r\n\r\n\r\n  let ChartComponent;\r\n  switch(type) {\r\n    case 'fuelTypeDist':\r\n    case 'co2RatingPct':\r\n      ChartComponent = Pie;\r\n      break;\r\n    case 'consByTrans':\r\n    case 'co2ByClass':\r\n      ChartComponent = Line;\r\n      break;\r\n    default:\r\n      ChartComponent = Bar;\r\n  }\r\n\r\n  return (    \r\n    <div className=\"chart\">\r\n      <h2>{title}</h2>\r\n      <ChartComponent data={chartData} options={chartOptions} />\r\n      {selectedItem && (\r\n        <div className=\"detail-view\">\r\n          <h3>{selectedItem.make || selectedItem.vehClass || selectedItem.fuelType || selectedItem.trans || selectedItem.co2Rating}</h3>          \r\n          <p>Value: {selectedItem.avgCons || selectedItem.combCons || selectedItem.count || selectedItem.avgCo2 || selectedItem.percentage}</p>\r\n        </div>\r\n      )}\r\n    </div>        \r\n  );\r\n\r\n};\r\n\r\nexport default Chart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}