{"ast":null,"code":"import React,{useState}from'react';import{Bar,Pie,Line}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';import{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend,ArcElement,PointElement,LineElement);const Chart=_ref=>{let{data=[],title,type}=_ref;if(!data||data.length===0){return/*#__PURE__*/_jsx(\"div\",{children:\"No data available for this chart.\"});}// const [selectedItem, setSelectedItem] = useState(null);\nconst chartData={labels:Array.isArray(data)?data.map(item=>item.make||item.vehClass||item.fuelType||item.trans||item.co2Rating||''):[],datasets:[{label:title,data:Array.isArray(data)?data.map(item=>item.avgCons||item.combCons||item.count||item.avgCo2||item.percentage||0):[],backgroundColor:'rgba(75,192,192,0.6)',borderColor:'rgba(75,192,192,1)',borderWidth:1,hoverBackgroundColor:'rgba(75,192,192,0.4)',hoverBorderColor:'rgba(75,192,192,1)'}]};// const chartOptions = {\n//   scales: {\n//     y: {\n//       beginAtZero: true\n//     }\n//   },\n//   onClick: (event, elements) => {\n//     if (elements.length > 0) {\n//       const index = elements[0].index;\n//       setSelectedItem(data[index]);\n//     }\n//   }\n// };\nconst chartOptions={responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:title}}};switch(type){case'fuelTypeDist':case'co2RatingPct':return/*#__PURE__*/_jsx(Pie,{data:chartData,options:chartOptions});case'consByTrans':case'co2ByClass':return/*#__PURE__*/_jsx(Line,{data:chartData,options:chartOptions});default:return/*#__PURE__*/_jsx(Bar,{data:chartData,options:chartOptions});}// const ChartComponent = type === 'pie' ? Pie : Bar;\n// return (    \n//   <div className=\"chart\">\n//     <h2>{title}</h2>\n//     <ChartComponent data={chartData} options={chartOptions} />\n//     {selectedItem && (\n//       <div className=\"detail-view\">\n//         <h3>{selectedItem.make}</h3>\n//         <p>Average Consumption: {selectedItem.avg_cons}</p>\n//         {/* Add more details as needed */}\n//       </div>\n//     )}\n//   </div>        \n// );\n};export default Chart;","map":{"version":3,"names":["React","useState","Bar","Pie","Line","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsx","_jsx","register","ArcElement","PointElement","LineElement","_ref","data","title","type","length","children","chartData","labels","Array","isArray","map","item","make","vehClass","fuelType","trans","co2Rating","datasets","label","avgCons","combCons","count","avgCo2","percentage","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","chartOptions","responsive","plugins","legend","position","display","text","options"],"sources":["D:/centennial/centennial 2024 summer/comp214/Assignment/group project/db_frontend/src/Chart.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Bar, Pie, Line } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement, PointElement, LineElement);\r\n\r\nconst Chart = ({ data = [], title, type }) => {\r\n\r\n  if (!data || data.length === 0) {\r\n    return <div>No data available for this chart.</div>;\r\n  }\r\n\r\n  // const [selectedItem, setSelectedItem] = useState(null);\r\n\r\n  const chartData = {\r\n    labels: Array.isArray(data) ? data.map(item => item.make || item.vehClass || item.fuelType || item.trans || item.co2Rating || '') : [],\r\n    datasets: [\r\n      {\r\n        label: title,\r\n        data: Array.isArray(data) ? data.map(item => item.avgCons || item.combCons || item.count || item.avgCo2 || item.percentage || 0) : [],\r\n        backgroundColor: 'rgba(75,192,192,0.6)',\r\n        borderColor: 'rgba(75,192,192,1)',\r\n        borderWidth: 1,\r\n        hoverBackgroundColor: 'rgba(75,192,192,0.4)',\r\n        hoverBorderColor: 'rgba(75,192,192,1)'\r\n      }\r\n    ]\r\n  };\r\n\r\n  // const chartOptions = {\r\n  //   scales: {\r\n  //     y: {\r\n  //       beginAtZero: true\r\n  //     }\r\n  //   },\r\n  //   onClick: (event, elements) => {\r\n  //     if (elements.length > 0) {\r\n  //       const index = elements[0].index;\r\n  //       setSelectedItem(data[index]);\r\n  //     }\r\n  //   }\r\n  // };\r\n  const chartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n        legend: {\r\n            position: 'top',\r\n        },\r\n        title: {\r\n            display: true,\r\n            text: title,\r\n        },\r\n    },\r\n  };\r\n\r\n  switch(type) {\r\n    case 'fuelTypeDist':\r\n    case 'co2RatingPct':\r\n        return <Pie data={chartData} options={chartOptions} />;\r\n    case 'consByTrans':\r\n    case 'co2ByClass':\r\n        return <Line data={chartData} options={chartOptions} />;\r\n    default:\r\n        return <Bar data={chartData} options={chartOptions} />;\r\n  }\r\n\r\n  // const ChartComponent = type === 'pie' ? Pie : Bar;\r\n\r\n  // return (    \r\n  //   <div className=\"chart\">\r\n  //     <h2>{title}</h2>\r\n  //     <ChartComponent data={chartData} options={chartOptions} />\r\n  //     {selectedItem && (\r\n  //       <div className=\"detail-view\">\r\n  //         <h3>{selectedItem.make}</h3>\r\n  //         <p>Average Consumption: {selectedItem.avg_cons}</p>\r\n  //         {/* Add more details as needed */}\r\n  //       </div>\r\n  //     )}\r\n  //   </div>        \r\n  // );\r\n\r\n};\r\n\r\nexport default Chart;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,GAAG,CAAEC,GAAG,CAAEC,IAAI,KAAQ,iBAAiB,CAChD,OAASC,KAAK,GAAI,CAAAC,OAAO,CAAEC,aAAa,CAAEC,WAAW,CAAEC,UAAU,CAAEC,KAAK,CAAEC,OAAO,CAAEC,MAAM,KAAQ,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5GR,OAAO,CAACS,QAAQ,CAACR,aAAa,CAAEC,WAAW,CAAEC,UAAU,CAAEC,KAAK,CAAEC,OAAO,CAAEC,MAAM,CAAEI,UAAU,CAAEC,YAAY,CAAEC,WAAW,CAAC,CAEvH,KAAM,CAAAb,KAAK,CAAGc,IAAA,EAAgC,IAA/B,CAAEC,IAAI,CAAG,EAAE,CAAEC,KAAK,CAAEC,IAAK,CAAC,CAAAH,IAAA,CAEvC,GAAI,CAACC,IAAI,EAAIA,IAAI,CAACG,MAAM,GAAK,CAAC,CAAE,CAC9B,mBAAOT,IAAA,QAAAU,QAAA,CAAK,mCAAiC,CAAK,CAAC,CACrD,CAEA;AAEA,KAAM,CAAAC,SAAS,CAAG,CAChBC,MAAM,CAAEC,KAAK,CAACC,OAAO,CAACR,IAAI,CAAC,CAAGA,IAAI,CAACS,GAAG,CAACC,IAAI,EAAIA,IAAI,CAACC,IAAI,EAAID,IAAI,CAACE,QAAQ,EAAIF,IAAI,CAACG,QAAQ,EAAIH,IAAI,CAACI,KAAK,EAAIJ,IAAI,CAACK,SAAS,EAAI,EAAE,CAAC,CAAG,EAAE,CACtIC,QAAQ,CAAE,CACR,CACEC,KAAK,CAAEhB,KAAK,CACZD,IAAI,CAAEO,KAAK,CAACC,OAAO,CAACR,IAAI,CAAC,CAAGA,IAAI,CAACS,GAAG,CAACC,IAAI,EAAIA,IAAI,CAACQ,OAAO,EAAIR,IAAI,CAACS,QAAQ,EAAIT,IAAI,CAACU,KAAK,EAAIV,IAAI,CAACW,MAAM,EAAIX,IAAI,CAACY,UAAU,EAAI,CAAC,CAAC,CAAG,EAAE,CACrIC,eAAe,CAAE,sBAAsB,CACvCC,WAAW,CAAE,oBAAoB,CACjCC,WAAW,CAAE,CAAC,CACdC,oBAAoB,CAAE,sBAAsB,CAC5CC,gBAAgB,CAAE,oBACpB,CAAC,CAEL,CAAC,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAM,CAAAC,YAAY,CAAG,CACnBC,UAAU,CAAE,IAAI,CAChBC,OAAO,CAAE,CACLC,MAAM,CAAE,CACJC,QAAQ,CAAE,KACd,CAAC,CACD/B,KAAK,CAAE,CACHgC,OAAO,CAAE,IAAI,CACbC,IAAI,CAAEjC,KACV,CACJ,CACF,CAAC,CAED,OAAOC,IAAI,EACT,IAAK,cAAc,CACnB,IAAK,cAAc,CACf,mBAAOR,IAAA,CAACX,GAAG,EAACiB,IAAI,CAAEK,SAAU,CAAC8B,OAAO,CAAEP,YAAa,CAAE,CAAC,CAC1D,IAAK,aAAa,CAClB,IAAK,YAAY,CACb,mBAAOlC,IAAA,CAACV,IAAI,EAACgB,IAAI,CAAEK,SAAU,CAAC8B,OAAO,CAAEP,YAAa,CAAE,CAAC,CAC3D,QACI,mBAAOlC,IAAA,CAACZ,GAAG,EAACkB,IAAI,CAAEK,SAAU,CAAC8B,OAAO,CAAEP,YAAa,CAAE,CAAC,CAC5D,CAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEF,CAAC,CAED,cAAe,CAAA3C,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}