{"ast":null,"code":"import React,{useState}from'react';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';import{Bar,Pie}from'react-chartjs-2';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);const Chart=_ref=>{let{data=[],title,type}=_ref;const[selectedItem,setSelectedItem]=useState(null);const chartData={labels:Array.isArray(data)?data.map(item=>(item===null||item===void 0?void 0:item.make)||''):[],datasets:[{label:'Average Consumption',backgroundColor:'rgba(75,192,192,0.2)',borderColor:'rgba(75,192,192,1)',borderWidth:1,hoverBackgroundColor:'rgba(75,192,192,0.4)',hoverBorderColor:'rgba(75,192,192,1)',data:Array.isArray(data)?data.map(item=>(item===null||item===void 0?void 0:item.avg_cons)||0):[]}]};const options={scales:{y:{beginAtZero:true}},onClick:(event,elements)=>{if(elements.length>0){const index=elements[0].index;setSelectedItem(data[index]);}}};const ChartComponent=type==='pie'?Pie:Bar;return/*#__PURE__*/_jsxs(\"div\",{className:\"chart\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsx(ChartComponent,{data:chartData,options:options}),selectedItem&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-view\",children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedItem.make}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Average Consumption: \",selectedItem.avg_cons]})]})]});};export default Chart;","map":{"version":3,"names":["React","useState","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","Bar","Pie","jsx","_jsx","jsxs","_jsxs","register","_ref","data","title","type","selectedItem","setSelectedItem","chartData","labels","Array","isArray","map","item","make","datasets","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","avg_cons","options","scales","y","beginAtZero","onClick","event","elements","length","index","ChartComponent","className","children"],"sources":["D:/centennial/centennial 2024 summer/comp214/Assignment/group project/db_frontend/src/Chart.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\r\nimport { Bar, Pie } from 'react-chartjs-2';\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\nconst Chart = ({ data = [], title, type }) => {\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n\r\n  const chartData = {\r\n    labels: Array.isArray(data) ? data.map(item => item?.make || '') : [],\r\n    datasets: [\r\n      {\r\n        label: 'Average Consumption',\r\n        backgroundColor: 'rgba(75,192,192,0.2)',\r\n        borderColor: 'rgba(75,192,192,1)',\r\n        borderWidth: 1,\r\n        hoverBackgroundColor: 'rgba(75,192,192,0.4)',\r\n        hoverBorderColor: 'rgba(75,192,192,1)',\r\n        data: Array.isArray(data) ? data.map(item => item?.avg_cons || 0) : []\r\n      }\r\n    ]\r\n  };\r\n\r\n  const options = {\r\n    scales: {\r\n      y: {\r\n        beginAtZero: true\r\n      }\r\n    },\r\n    onClick: (event, elements) => {\r\n      if (elements.length > 0) {\r\n        const index = elements[0].index;\r\n        setSelectedItem(data[index]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const ChartComponent = type === 'pie' ? Pie : Bar;\r\n\r\n  return (    \r\n    <div className=\"chart\">\r\n      <h2>{title}</h2>\r\n      <ChartComponent data={chartData} options={options} />\r\n      {selectedItem && (\r\n        <div className=\"detail-view\">\r\n          <h3>{selectedItem.make}</h3>\r\n          <p>Average Consumption: {selectedItem.avg_cons}</p>\r\n          {/* Add more details as needed */}\r\n        </div>\r\n      )}\r\n    </div>\r\n        \r\n  );\r\n};\r\n\r\nexport default Chart;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,KAAK,GAAI,CAAAC,OAAO,CAAEC,aAAa,CAAEC,WAAW,CAAEC,UAAU,CAAEC,KAAK,CAAEC,OAAO,CAAEC,MAAM,KAAQ,UAAU,CAC3G,OAASC,GAAG,CAAEC,GAAG,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3CZ,OAAO,CAACa,QAAQ,CACdZ,aAAa,CACbC,WAAW,CACXC,UAAU,CACVC,KAAK,CACLC,OAAO,CACPC,MACF,CAAC,CAED,KAAM,CAAAP,KAAK,CAAGe,IAAA,EAAgC,IAA/B,CAAEC,IAAI,CAAG,EAAE,CAAEC,KAAK,CAAEC,IAAK,CAAC,CAAAH,IAAA,CACvC,KAAM,CAACI,YAAY,CAAEC,eAAe,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CAEtD,KAAM,CAAAsB,SAAS,CAAG,CAChBC,MAAM,CAAEC,KAAK,CAACC,OAAO,CAACR,IAAI,CAAC,CAAGA,IAAI,CAACS,GAAG,CAACC,IAAI,EAAI,CAAAA,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,IAAI,GAAI,EAAE,CAAC,CAAG,EAAE,CACrEC,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,qBAAqB,CAC5BC,eAAe,CAAE,sBAAsB,CACvCC,WAAW,CAAE,oBAAoB,CACjCC,WAAW,CAAE,CAAC,CACdC,oBAAoB,CAAE,sBAAsB,CAC5CC,gBAAgB,CAAE,oBAAoB,CACtClB,IAAI,CAAEO,KAAK,CAACC,OAAO,CAACR,IAAI,CAAC,CAAGA,IAAI,CAACS,GAAG,CAACC,IAAI,EAAI,CAAAA,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAES,QAAQ,GAAI,CAAC,CAAC,CAAG,EACtE,CAAC,CAEL,CAAC,CAED,KAAM,CAAAC,OAAO,CAAG,CACdC,MAAM,CAAE,CACNC,CAAC,CAAE,CACDC,WAAW,CAAE,IACf,CACF,CAAC,CACDC,OAAO,CAAEA,CAACC,KAAK,CAAEC,QAAQ,GAAK,CAC5B,GAAIA,QAAQ,CAACC,MAAM,CAAG,CAAC,CAAE,CACvB,KAAM,CAAAC,KAAK,CAAGF,QAAQ,CAAC,CAAC,CAAC,CAACE,KAAK,CAC/BxB,eAAe,CAACJ,IAAI,CAAC4B,KAAK,CAAC,CAAC,CAC9B,CACF,CACF,CAAC,CAED,KAAM,CAAAC,cAAc,CAAG3B,IAAI,GAAK,KAAK,CAAGT,GAAG,CAAGD,GAAG,CAEjD,mBACEK,KAAA,QAAKiC,SAAS,CAAC,OAAO,CAAAC,QAAA,eACpBpC,IAAA,OAAAoC,QAAA,CAAK9B,KAAK,CAAK,CAAC,cAChBN,IAAA,CAACkC,cAAc,EAAC7B,IAAI,CAAEK,SAAU,CAACe,OAAO,CAAEA,OAAQ,CAAE,CAAC,CACpDjB,YAAY,eACXN,KAAA,QAAKiC,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BpC,IAAA,OAAAoC,QAAA,CAAK5B,YAAY,CAACQ,IAAI,CAAK,CAAC,cAC5Bd,KAAA,MAAAkC,QAAA,EAAG,uBAAqB,CAAC5B,YAAY,CAACgB,QAAQ,EAAI,CAAC,EAEhD,CACN,EACE,CAAC,CAGV,CAAC,CAED,cAAe,CAAAnC,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}