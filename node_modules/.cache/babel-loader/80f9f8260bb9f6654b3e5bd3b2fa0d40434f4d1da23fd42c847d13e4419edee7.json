{"ast":null,"code":"import React,{useState,useEffect}from'react';//import { Chart as ChartJS, LinearScale } from 'chart.js';\nimport{ChartJS,LinearScale}from'chart.js';ChartJS.register(LinearScale);import Chart from'./Chart';import Dashboard from'./Dashboard';import DataTable from'./DataTable';import FilterPanel from'./FilterPanel';import ComparisonView from'./ComparisonView';import'./App.css';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[data,setData]=useState({avgConsMake:[],topEfficient:[],fuelTypeDist:[],co2ByClass:[],bestSmog:[],consByTrans:[],co2RatingPct:[],topLowCo2:[]});const[filter,setFilter]=useState({});const[selectedChart,setSelectedChart]=useState('avgConsMake');const[comparisonItems,setComparisonItems]=useState([]);useEffect(()=>{fetchData();},[filter]);const fetchData=async()=>{try{const response=await axios.get('/api/data',{params:filter});setData(response.data);}catch(error){console.error('Error fetching data:',error);}};const chartTitles={avgConsMake:\"Average Consumption by Make\",co2ByClass:\"CO2 Emissions by Vehicle Class\"};const handleComparisonToggle=item=>{setComparisonItems(prevItems=>prevItems.includes(item)?prevItems.filter(i=>i!==item):[...prevItems,item]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Fuel Consumption Dashboard\"}),/*#__PURE__*/_jsx(Dashboard,{}),/*#__PURE__*/_jsx(FilterPanel,{onFilterChange:setFilter}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setSelectedChart(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"avgConsMake\",children:\"Average Consumption by Make\"}),/*#__PURE__*/_jsx(\"option\",{value:\"co2ByClass\",children:\"CO2 Emissions by Vehicle Class\"}),data.uniqueMakes&&data.uniqueMakes.map(make=>/*#__PURE__*/_jsx(\"option\",{value:make,children:make},make))]}),/*#__PURE__*/_jsx(Chart,{data:data[selectedChart],title:chartTitles[selectedChart]}),/*#__PURE__*/_jsx(DataTable,{data:data.topEfficient,title:\"Top Efficient Vehicles\",onComparisonToggle:handleComparisonToggle}),comparisonItems.length>0&&/*#__PURE__*/_jsx(ComparisonView,{items:comparisonItems})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","ChartJS","LinearScale","register","Chart","Dashboard","DataTable","FilterPanel","ComparisonView","axios","jsx","_jsx","jsxs","_jsxs","App","data","setData","avgConsMake","topEfficient","fuelTypeDist","co2ByClass","bestSmog","consByTrans","co2RatingPct","topLowCo2","filter","setFilter","selectedChart","setSelectedChart","comparisonItems","setComparisonItems","fetchData","response","get","params","error","console","chartTitles","handleComparisonToggle","item","prevItems","includes","i","className","children","onFilterChange","onChange","e","target","value","uniqueMakes","map","make","title","onComparisonToggle","length","items"],"sources":["D:/centennial/centennial 2024 summer/comp214/Assignment/group project/db_frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n//import { Chart as ChartJS, LinearScale } from 'chart.js';\r\nimport { ChartJS, LinearScale } from 'chart.js';\r\nChartJS.register(LinearScale);\r\nimport Chart from './Chart'; \r\nimport Dashboard from './Dashboard';\r\nimport DataTable from './DataTable';\r\nimport FilterPanel from './FilterPanel';\r\nimport ComparisonView from './ComparisonView';\r\nimport './App.css';\r\nimport axios from 'axios';\r\n\r\nconst App = () => {\r\n    const [data, setData] = useState({\r\n        avgConsMake: [],\r\n        topEfficient: [],\r\n        fuelTypeDist: [],\r\n        co2ByClass: [],\r\n        bestSmog: [],\r\n        consByTrans: [],\r\n        co2RatingPct: [],\r\n        topLowCo2: []\r\n    });\r\n    const [filter, setFilter] = useState({});\r\n    const [selectedChart, setSelectedChart] = useState('avgConsMake');\r\n    const [comparisonItems, setComparisonItems] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, [filter]);\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const response = await axios.get('/api/data', { params: filter });\r\n            setData(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n        }\r\n    };\r\n\r\n    const chartTitles = {\r\n        avgConsMake: \"Average Consumption by Make\",\r\n        co2ByClass: \"CO2 Emissions by Vehicle Class\"\r\n    };\r\n\r\n    const handleComparisonToggle = (item) => {\r\n        setComparisonItems(prevItems => \r\n            prevItems.includes(item)\r\n                ? prevItems.filter(i => i !== item)\r\n                : [...prevItems, item]\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            <h1>Fuel Consumption Dashboard</h1>\r\n            <Dashboard />\r\n            <FilterPanel onFilterChange={setFilter} />\r\n            <select onChange={(e) => setSelectedChart(e.target.value)}>\r\n                <option value=\"avgConsMake\">Average Consumption by Make</option>\r\n                <option value=\"co2ByClass\">CO2 Emissions by Vehicle Class</option>\r\n                {data.uniqueMakes && data.uniqueMakes.map(make => \r\n                    <option key={make} value={make}>{make}</option>\r\n                )}\r\n            </select>\r\n            <Chart data={data[selectedChart]} title={chartTitles[selectedChart]} />\r\n            <DataTable \r\n                data={data.topEfficient} \r\n                title=\"Top Efficient Vehicles\" \r\n                onComparisonToggle={handleComparisonToggle}\r\n            />\r\n            {comparisonItems.length > 0 && <ComparisonView items={comparisonItems} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}