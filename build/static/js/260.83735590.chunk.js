"use strict";(self.webpackChunkdb_frontend=self.webpackChunkdb_frontend||[]).push([[260,764,640,98],{764:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var a=s(43),n=s(58),i=s(393),l=s(242),o=s(579);i.t1.register(i.PP,i.kc,i.E8,i.hE,i.m_,i.s$,i.Bs,i.FN,i.No,l.Ay);const r=e=>{let{data:t=[],title:s,type:i}=e;if(!t||0===t.length)return(0,o.jsx)("div",{children:"No data available for this chart."});const[l,r]=(0,a.useState)(null),c={labels:Array.isArray(t)?t.map((e=>e.make||e.vehClass||e.fuelType||e.trans||e.co2Rating||"")):[],datasets:[{label:s,data:Array.isArray(t)?t.map((e=>e.avgCons||e.combCons||e.count||e.avgCo2||e.percentage||0)):[],backgroundColor:"rgba(75,192,192,0.6)",borderColor:"rgba(75,192,192,1)",borderWidth:1,hoverBackgroundColor:"rgba(75,192,192,0.4)",hoverBorderColor:"rgba(75,192,192,1)"}]},d={scales:{y:{beginAtZero:!0}},onClick:(e,s)=>{if(s.length>0){const e=s[0].index;r(t[e])}},responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:s},zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"}},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=new Intl.NumberFormat("en-US",{style:"decimal"}).format(e.parsed.y)),t}}}}};let h;switch(i){case"fuelTypeDist":case"co2RatingPct":h=n.Fq;break;case"consByTrans":case"co2ByClass":h=n.N1;break;default:h=n.yP}return(0,o.jsxs)("div",{className:"chart",children:[(0,o.jsx)("h2",{children:s}),(0,o.jsx)(h,{data:c,options:d}),l&&(0,o.jsxs)("div",{className:"detail-view",children:[(0,o.jsx)("h3",{children:l.make||l.vehClass||l.fuelType||l.trans||l.co2Rating}),(0,o.jsxs)("p",{children:["Value: ",l.avgCons||l.combCons||l.count||l.avgCo2||l.percentage]})]})]})}},98:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});s(43);var a=s(579);const n=e=>{let{items:t}=e;return(0,a.jsxs)("div",{className:"comparison-view",children:[(0,a.jsx)("h2",{children:"Comparison"}),(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Make"}),(0,a.jsx)("th",{children:"Model"}),(0,a.jsx)("th",{children:"Fuel Consumption"}),(0,a.jsx)("th",{children:"CO2 Emissions"})]})}),(0,a.jsx)("tbody",{children:t.map(((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.make}),(0,a.jsx)("td",{children:e.model}),(0,a.jsx)("td",{children:e.fuelConsumption}),(0,a.jsx)("td",{children:e.co2Emissions})]},t)))})]})]})}},260:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(43),n=s(213),i=s(393),l=s(764),o=s(640),r=s(904),c=s(98),d=s(579);i.t1.register(i.kc,i.Bs);const h=()=>{const[e,t]=(0,a.useState)({avgConsMake:[],topEfficient:[],fuelTypeDist:[],co2ByClass:[],bestSmog:[],consByTrans:[],co2RatingPct:[],topLowCo2:[]}),[s,i]=(0,a.useState)({}),[h,u]=(0,a.useState)("avgConsMake"),[m,g]=(0,a.useState)([]),[p,x]=(0,a.useState)(!0),[j,C]=(0,a.useState)(null);(0,a.useEffect)((()=>{y()}),[s]);const[f,b]=(0,a.useState)(!1),y=async()=>{x(!0),C(null);try{const e=await n.A.get("/api/data",{params:s});t(e.data)}catch(j){C("Failed to fetch data. Please try again."),console.error("Error fetching data:",j)}finally{b(!1)}},v={avgConsMake:"Average Consumption by Make",co2ByClass:"CO2 Emissions by Vehicle Class",fuelTypeDist:"Fuel Type Distribution",bestSmog:"Best Smog Ratings",consByTrans:"Consumption by Transmission",co2RatingPct:"CO2 Rating Percentages",topLowCo2:"Top Low CO2 Emitters"};return(0,d.jsxs)("div",{className:"dashboard",children:[f&&(0,d.jsx)("div",{className:"loading-indicator",children:"Loading..."}),j&&(0,d.jsx)("div",{className:"error-message",children:j}),(0,d.jsx)("button",{onClick:y,children:"Refresh Data"}),(0,d.jsx)(r.default,{onFilterChange:i}),(0,d.jsx)("select",{onChange:e=>u(e.target.value),children:Object.entries(v).map((e=>{let[t,s]=e;return(0,d.jsx)("option",{value:t,children:s},t)}))}),e[h]&&e[h].length>0?(0,d.jsx)(l.default,{data:e[h],title:v[h],type:h}):(0,d.jsx)("div",{children:"No data available for the selected chart."}),(0,d.jsxs)("div",{className:"top-efficient",children:[(0,d.jsx)("h2",{children:"Top Efficient Vehicles"}),e.topEfficient&&e.topEfficient.length>0?(0,d.jsx)(o.default,{data:e.topEfficient,onComparisonToggle:e=>{g((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))}}):(0,d.jsx)("p",{className:"no-data-message",children:"No data available for top efficient vehicles."})]}),m.length>0&&(0,d.jsx)(c.default,{items:m})]})}},640:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(43),n=s(579);const i=e=>{let{itemsPerPage:t,totalItems:s,paginate:a}=e;const i=[];for(let n=1;n<=Math.ceil(s/t);n++)i.push(n);return(0,n.jsx)("nav",{children:(0,n.jsx)("ul",{className:"pagination",children:i.map((e=>(0,n.jsx)("li",{className:"page-item",children:(0,n.jsx)("a",{onClick:()=>a(e),href:"!#",className:"page-link",children:e})},e)))})})},l=e=>{let{data:t,title:s,onComparisonToggle:l}=e;const[o,r]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),h=a.useMemo((()=>{let e=[...t];return null!==o&&e.sort(((e,t)=>e[o.key]<t[o.key]?"ascending"===o.direction?-1:1:e[o.key]>t[o.key]?"ascending"===o.direction?1:-1:0)),e}),[t,o]),u=e=>{let t="ascending";o&&o.key===e&&"ascending"===o.direction&&(t="descending"),r({key:e,direction:t})},m=h.filter((e=>Object.values(e).some((e=>e.toString().toLowerCase().includes(c.toLowerCase()))))),[g,p]=(0,a.useState)(1),x=10*g,j=x-10,C=m.slice(j,x);return(0,n.jsxs)("div",{className:"datatable",children:[(0,n.jsx)("h2",{children:s}),(0,n.jsx)("input",{type:"text",placeholder:"Search table...",value:c,onChange:e=>d(e.target.value)}),(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{onClick:()=>u("make"),children:"Make"}),(0,n.jsx)("th",{onClick:()=>u("model"),children:"Model"}),(0,n.jsx)("th",{onClick:()=>u("combined_consumption"),children:"Combined Consumption"}),(0,n.jsx)("th",{onClick:()=>u("co2_emissions"),children:"CO2 Emissions"}),(0,n.jsx)("th",{children:"Compare"})]})}),(0,n.jsx)("tbody",{children:C.map(((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.make||""}),(0,n.jsx)("td",{children:e.model||""}),(0,n.jsx)("td",{children:e.combined_consumption||""}),(0,n.jsx)("td",{children:e.co2_emissions||""}),(0,n.jsx)("td",{children:(0,n.jsx)("input",{type:"checkbox",onChange:()=>l(e)})})]},t)))})]}),(0,n.jsx)(i,{itemsPerPage:10,totalItems:t.length,paginate:e=>p(e)})]})}}}]);
//# sourceMappingURL=260.83735590.chunk.js.map