"use strict";(self.webpackChunkdb_frontend=self.webpackChunkdb_frontend||[]).push([[396,895],{396:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});s(43);var a=s(895),n=s(579);const r=e=>{let{data:t}=e;return(0,n.jsxs)("div",{className:"analysis-results",children:[(0,n.jsx)("h2",{children:"Analysis Results"}),Object.entries({avgConsMake:"Avg Consumption by Make Year",co2ByClass:"CO2 Emissions by Vehicle Class",fuelTypeDist:"Fuel Type Distribution",bestSmog:"Best Smog Ratings",consByTrans:"Consumption by Transmission",co2RatingPct:"CO2 Rating Percentages",topLowCo2:"Top Low CO2 Emitters"}).map((e=>{let[s,r]=e;return(0,n.jsx)(a.default,{data:t[s],title:r,type:s},s)}))]})}},895:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var a=s(43),n=s(658);const r="label";function o(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function c(e,t){e.labels=t}function l(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;const a=[];e.datasets=t.map((t=>{const n=e.datasets.find((e=>e[s]===t[s]));return n&&t.data&&!a.includes(n)?(a.push(n),Object.assign(n,t),n):{...t}}))}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;const s={labels:[],datasets:[]};return c(s,e.labels),l(s,e.datasets,t),s}function u(e,t){const{height:s=150,width:r=300,redraw:u=!1,datasetIdKey:d,type:f,data:g,options:p,plugins:b=[],fallbackContent:h,updateMode:C,...m}=e,y=(0,a.useRef)(null),v=(0,a.useRef)(),E=()=>{y.current&&(v.current=new n.t1(y.current,{type:f,data:i(g,d),options:p&&{...p},plugins:b}),o(t,v.current))},j=()=>{o(t,null),v.current&&(v.current.destroy(),v.current=null)};return(0,a.useEffect)((()=>{!u&&v.current&&p&&function(e,t){const s=e.options;s&&t&&Object.assign(s,t)}(v.current,p)}),[u,p]),(0,a.useEffect)((()=>{!u&&v.current&&c(v.current.config.data,g.labels)}),[u,g.labels]),(0,a.useEffect)((()=>{!u&&v.current&&g.datasets&&l(v.current.config.data,g.datasets,d)}),[u,g.datasets]),(0,a.useEffect)((()=>{v.current&&(u?(j(),setTimeout(E)):v.current.update(C))}),[u,p,g.labels,g.datasets,C]),(0,a.useEffect)((()=>{v.current&&(j(),setTimeout(E))}),[f]),(0,a.useEffect)((()=>(E(),()=>j())),[]),a.createElement("canvas",Object.assign({ref:y,role:"img",height:s,width:r},m),h)}const d=(0,a.forwardRef)(u);function f(e,t){return n.t1.register(t),(0,a.forwardRef)(((t,s)=>a.createElement(d,Object.assign({},t,{ref:s,type:e}))))}const g=f("line",n.ZT),p=f("bar",n.A6),b=f("pie",n.P$);var h=s(579);n.t1.register(n.PP,n.kc,n.E8,n.No,n.Bs,n.FN,n.hE,n.m_,n.s$);const C=e=>{let{data:t=[],title:s,type:n}=e;const[r,o]=(0,a.useState)(null);if(!t||0===t.length)return(0,h.jsx)("div",{children:"No data available for this chart."});console.log("Chart data:",t);const c={labels:t.map((e=>e.MAKE||e.VEHICLE_CLASS||e.FUEL_TYPE||e.TRANSMISSION||e.CO2_RATING||"")),datasets:[{label:s,data:t.map((e=>e.AVG_CONS||e.COMB_CONS||e.COUNT||e.AVG_CO2||e.PERCENTAGE||0)),backgroundColor:"rgba(75,192,192,0.6)",borderColor:"rgba(75,192,192,1)",borderWidth:1,hoverBackgroundColor:"rgba(75,192,192,0.4)",hoverBorderColor:"rgba(75,192,192,1)"}]};console.log("Processed chart data:",c);const l={scales:{y:{beginAtZero:!0}},onClick:(e,s)=>{if(s.length>0){const e=s[0].index;o(t[e])}},responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:s}}};let i;switch(n){case"fuelTypeDist":case"co2RatingPct":case"topEfficient":i=b;break;case"consByTrans":case"co2ByClass":case"avgConsMake":case"bestSmog":case"topLowCo2":i=g;break;default:i=p}return(0,h.jsxs)("div",{className:"chart",children:["bar"===n&&(0,h.jsx)(p,{data:c}),"line"===n&&(0,h.jsx)(g,{data:c}),"pie"===n&&(0,h.jsx)(b,{data:c}),(0,h.jsx)("h2",{children:s}),(0,h.jsx)(i,{data:c,options:l}),r&&(0,h.jsxs)("div",{className:"detail-view",children:[(0,h.jsx)("h3",{children:r.make||r.vehClass||r.fuelType||r.trans||r.co2Rating}),(0,h.jsxs)("p",{children:["Value: ",r.avgCons||r.combCons||r.count||r.avgCo2||r.percentage]})]})]})}}}]);
//# sourceMappingURL=396.bb7ede2c.chunk.js.map