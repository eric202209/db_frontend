"use strict";(self.webpackChunkdb_frontend=self.webpackChunkdb_frontend||[]).push([[895],{895:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var a=s(43),n=s(658);const r="label";function c(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function o(e,t){e.labels=t}function l(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;const a=[];e.datasets=t.map((t=>{const n=e.datasets.find((e=>e[s]===t[s]));return n&&t.data&&!a.includes(n)?(a.push(n),Object.assign(n,t),n):{...t}}))}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;const s={labels:[],datasets:[]};return o(s,e.labels),l(s,e.datasets,t),s}function u(e,t){const{height:s=150,width:r=300,redraw:u=!1,datasetIdKey:d,type:f,data:g,options:h,plugins:b=[],fallbackContent:p,updateMode:C,...E}=e,v=(0,a.useRef)(null),m=(0,a.useRef)(),k=()=>{v.current&&(m.current=new n.t1(v.current,{type:f,data:i(g,d),options:h&&{...h},plugins:b}),c(t,m.current))},y=()=>{c(t,null),m.current&&(m.current.destroy(),m.current=null)};return(0,a.useEffect)((()=>{!u&&m.current&&h&&function(e,t){const s=e.options;s&&t&&Object.assign(s,t)}(m.current,h)}),[u,h]),(0,a.useEffect)((()=>{!u&&m.current&&o(m.current.config.data,g.labels)}),[u,g.labels]),(0,a.useEffect)((()=>{!u&&m.current&&g.datasets&&l(m.current.config.data,g.datasets,d)}),[u,g.datasets]),(0,a.useEffect)((()=>{m.current&&(u?(y(),setTimeout(k)):m.current.update(C))}),[u,h,g.labels,g.datasets,C]),(0,a.useEffect)((()=>{m.current&&(y(),setTimeout(k))}),[f]),(0,a.useEffect)((()=>(k(),()=>y())),[]),a.createElement("canvas",Object.assign({ref:v,role:"img",height:s,width:r},E),p)}const d=(0,a.forwardRef)(u);function f(e,t){return n.t1.register(t),(0,a.forwardRef)(((t,s)=>a.createElement(d,Object.assign({},t,{ref:s,type:e}))))}const g=f("line",n.ZT),h=f("bar",n.A6),b=f("pie",n.P$);var p=s(579);n.t1.register(n.PP,n.kc,n.E8,n.No,n.Bs,n.FN,n.hE,n.m_,n.s$);const C=e=>{let{data:t=[],title:s,type:n}=e;const[r,c]=(0,a.useState)(null);if(!t||0===t.length)return(0,p.jsx)("div",{children:"No data available for this chart."});console.log("Chart data:",t);const o={labels:t.map((e=>e.MAKE||e.VEHICLE_CLASS||e.FUEL_TYPE||e.TRANSMISSION||e.CO2_RATING||"")),datasets:[{label:s,data:t.map((e=>e.AVG_CONS||e.COMB_CONS||e.COUNT||e.AVG_CO2||e.PERCENTAGE||0)),backgroundColor:"rgba(75,192,192,0.6)",borderColor:"rgba(75,192,192,1)",borderWidth:1,hoverBackgroundColor:"rgba(75,192,192,0.4)",hoverBorderColor:"rgba(75,192,192,1)"}]};console.log("Processed chart data:",o);const l={scales:{y:{beginAtZero:!0}},onClick:(e,s)=>{if(s.length>0){const e=s[0].index;c(t[e])}},responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:s}}};let i;switch(n){case"fuelTypeDist":case"co2RatingPct":case"topEfficient":i=b;break;case"consByTrans":case"co2ByClass":case"avgConsMake":case"bestSmog":case"topLowCo2":i=g;break;default:i=h}return(0,p.jsxs)("div",{className:"chart",children:[(0,p.jsx)("h2",{children:s}),(0,p.jsx)(i,{data:o,options:l}),r&&(0,p.jsxs)("div",{className:"detail-view",children:[(0,p.jsx)("h3",{children:r.make||r.vehClass||r.fuelType||r.trans||r.co2Rating}),(0,p.jsxs)("p",{children:["Value: ",r.avgCons||r.combCons||r.count||r.avgCo2||r.percentage]})]})]})}}}]);
//# sourceMappingURL=895.eeff6830.chunk.js.map