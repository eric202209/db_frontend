"use strict";(self.webpackChunkdb_frontend=self.webpackChunkdb_frontend||[]).push([[895],{895:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var s=a(43),n=a(658);const r="label";function c(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function o(e,t){e.labels=t}function l(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;const s=[];e.datasets=t.map((t=>{const n=e.datasets.find((e=>e[a]===t[a]));return n&&t.data&&!s.includes(n)?(s.push(n),Object.assign(n,t),n):{...t}}))}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;const a={labels:[],datasets:[]};return o(a,e.labels),l(a,e.datasets,t),a}function d(e,t){const{height:a=150,width:r=300,redraw:d=!1,datasetIdKey:u,type:f,data:g,options:b,plugins:h=[],fallbackContent:p,updateMode:C,...E}=e,v=(0,s.useRef)(null),j=(0,s.useRef)(),m=()=>{v.current&&(j.current=new n.t1(v.current,{type:f,data:i(g,u),options:b&&{...b},plugins:h}),c(t,j.current))},k=()=>{c(t,null),j.current&&(j.current.destroy(),j.current=null)};return(0,s.useEffect)((()=>{!d&&j.current&&b&&function(e,t){const a=e.options;a&&t&&Object.assign(a,t)}(j.current,b)}),[d,b]),(0,s.useEffect)((()=>{!d&&j.current&&o(j.current.config.data,g.labels)}),[d,g.labels]),(0,s.useEffect)((()=>{!d&&j.current&&g.datasets&&l(j.current.config.data,g.datasets,u)}),[d,g.datasets]),(0,s.useEffect)((()=>{j.current&&(d?(k(),setTimeout(m)):j.current.update(C))}),[d,b,g.labels,g.datasets,C]),(0,s.useEffect)((()=>{j.current&&(k(),setTimeout(m))}),[f]),(0,s.useEffect)((()=>(m(),()=>k())),[]),s.createElement("canvas",Object.assign({ref:v,role:"img",height:a,width:r},E),p)}const u=(0,s.forwardRef)(d);function f(e,t){return n.t1.register(t),(0,s.forwardRef)(((t,a)=>s.createElement(u,Object.assign({},t,{ref:a,type:e}))))}const g=f("line",n.ZT),b=f("bar",n.A6),h=f("pie",n.P$);var p=a(579);n.t1.register(n.PP,n.kc,n.E8,n.No,n.Bs,n.FN,n.hE,n.m_,n.s$);const C=e=>{let{data:t=[],title:a,type:n}=e;const[r,c]=(0,s.useState)(null);if(!t||0===t.length)return(0,p.jsx)("div",{children:"No data available for this chart."});console.log("Chart data:",t);const o={labels:t.map((e=>e.MAKE||e.VEHICLE_CLASS||e.FUEL_TYPE||e.TRANSMISSION||e.CO2_RATING||"")),datasets:[{label:a,data:t.map((e=>e.AVG_CONS||e.COMB_CONS||e.COUNT||e.AVG_CO2||e.PERCENTAGE||0)),backgroundColor:"rgba(75,192,192,0.6)",borderColor:"rgba(75,192,192,1)",borderWidth:1,hoverBackgroundColor:"rgba(75,192,192,0.4)",hoverBorderColor:"rgba(75,192,192,1)"}]};console.log("Processed chart data:",o);const l={scales:{y:{beginAtZero:!0}},onClick:(e,a)=>{if(a.length>0){const e=a[0].index;c(t[e])}},responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:a}}};let i;switch(n){case"fuelTypeDist":case"co2RatingPct":case"topEfficient":i=h;break;case"consByTrans":case"co2ByClass":case"avgConsMake":case"bestSmog":case"topLowCo2":i=g;break;default:i=b}return(0,p.jsxs)("div",{className:"chart",children:["bar"===n&&(0,p.jsx)(b,{data:o}),"line"===n&&(0,p.jsx)(g,{data:o}),"pie"===n&&(0,p.jsx)(h,{data:o}),(0,p.jsx)("h2",{children:a}),(0,p.jsx)(i,{data:o,options:l}),r&&(0,p.jsxs)("div",{className:"detail-view",children:[(0,p.jsx)("h3",{children:r.make||r.vehClass||r.fuelType||r.trans||r.co2Rating}),(0,p.jsxs)("p",{children:["Value: ",r.avgCons||r.combCons||r.count||r.avgCo2||r.percentage]})]})]})}}}]);
//# sourceMappingURL=895.d0cc5e4b.chunk.js.map